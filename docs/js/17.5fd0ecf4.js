(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"742f":function(a,e,i){"use strict";i.r(e);var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("q-page",{class:a.$q.screen.lt.md?"bg-sm-image row":"bg-lg-image row"},[a.$q.screen.lt.md?a._e():i("div",{staticClass:"col-8 q-pa-md"},[i("q-date",{staticClass:"full-width full-height",attrs:{events:a.datasAllFichajes,"event-color":"primary","first-day-of-week":"1",color:"secondary",subtitle:"Calendario de fichajes","today-btn":""},model:{value:a.dataFichaje,callback:function(e){a.dataFichaje=e},expression:"dataFichaje"}})],1),i("div",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-4 col-lg-4"},[i("q-tab-panels",{attrs:{animated:"",swipeable:""},model:{value:a.dataFichaje,callback:function(e){a.dataFichaje=e},expression:"dataFichaje"}},a._l(a.allFichajes,(function(e){return i("q-tab-panel",{attrs:{name:e.fecha}},[i("q-card",{staticStyle:{"min-height":"35vh"}},[i("q-card-section",{staticClass:"column"},[i("div",{staticClass:"flex justify-between items-center"},[i("div",{staticClass:"text-h4"},[a._v(a._s(e.fecha))]),a.$q.screen.lt.md?i("q-btn",{attrs:{color:"blue","icon-right":"event"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{staticClass:"full-width",attrs:{"first-day-of-week":"1",color:"blue",subtitle:"Calendario de fichajes",options:a.datasAllFichajes},model:{value:a.dataFichaje,callback:function(e){a.dataFichaje=e},expression:"dataFichaje"}})],1)],1):a._e()],1),i("div",{staticClass:"caption text-grey-7 q-mb-md"},[a._v(a._s(e.fichajes.length+" fichaje(s)"))])]),i("q-card-section",[i("div",{staticClass:"row q-mb-sm"},[i("div",{staticClass:"col-3 flex justify-end"},[a._v("\n                Entrada  \n              ")]),i("div",{staticClass:"col-1 flex flex-center"}),i("div",{staticClass:"col-3 flex "},[a._v("\n                 Salida\n              ")])]),a._l(e.fichajes,(function(e){return i("div",{staticClass:"row q-mt-xs q-mb-xs"},[i("div",{staticClass:"col-3 flex justify-end"},[a._v("\n                "+a._s(e.entrada)+" \n              ")]),i("div",{staticClass:"col-1 flex flex-center"},[a._v("\n                -\n              ")]),i("div",{staticClass:"col-3 flex "},[a._v("\n                 "+a._s(e.salida)+"\n              ")]),i("div",{staticClass:"col-5 flex justify-end q-pr-lg"},[a._v("\n                "+a._s(a.diferenciaEntreHoras(e.entrada,e.salida))+" hora(s)\n              ")])])}))],2),i("q-separator",{attrs:{inset:""}}),i("q-card-section",{staticClass:"flex justify-end"},[a._v("\n            "+a._s(a.calcularHorasTotalesDeUnDia(e.fichajes))+" hora(s) totales\n\n          ")])],1)],1)})),1),i("q-card",{staticClass:"q-ma-md bg-grey-7 text-white"},[0===a.calcularHorasTotales(a.allFichajes)?i("q-card-section",{staticClass:"flex justify-between"},[i("div",{staticClass:"text-h5"},[a._v("\n          No has realizado ningún fichaje\n        ")])]):a._e(),0!=a.calcularHorasTotales(a.allFichajes)?i("q-card-section",{staticClass:"flex justify-between"},[i("div",{staticClass:"text-h5"},[a._v("\n          Horas totales fichadas\n        ")]),i("div",{staticClass:"text-h5"},[a._v(a._s(a.calcularHorasTotales(a.allFichajes))+"/400")])]):a._e()],1)],1)])},s=[],c=i("fa84"),l=i.n(c),r=i("967e"),d=i.n(r),n=(i("a481"),i("28a5"),{name:"Fichajes",data:function(){return{dataFichaje:"2019/02/01",allFichajes:[],datasAllFichajes:[],fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:10,diaFichaje:"2020/05/06",horaEntrada:"16:23:42",horaSalida:"17:55:55"},{idfichaje:11,diaFichaje:"2020/05/07",horaEntrada:"09:01:35",horaSalida:"17:30:00"},{idfichaje:12,diaFichaje:"2020/05/08",horaEntrada:"08:15:30",horaSalida:"13:45:00"},{idfichaje:13,diaFichaje:"2020/05/08",horaEntrada:"14:30:45",horaSalida:"17:25:52"},{idfichaje:14,diaFichaje:"2020/05/11",horaEntrada:"09:05:03",horaSalida:"15:10:10"},{idfichaje:15,diaFichaje:"2020/05/11",horaEntrada:"16:23:42",horaSalida:"19:50:20"},{idfichaje:16,diaFichaje:"2020/05/12",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:17,diaFichaje:"2020/05/13",horaEntrada:"09:10:15",horaSalida:"17:10:10"},{idfichaje:18,diaFichaje:"2020/05/14",horaEntrada:"08:20:50",horaSalida:"17:05:30"},{idfichaje:19,diaFichaje:"2020/05/15",horaEntrada:"09:01:30",horaSalida:"17:30:30"},{idfichaje:20,diaFichaje:"2020/05/16",horaEntrada:"09:04:32",horaSalida:"16:20:50"}]}},created:function(){var a=this;return l()(d.a.mark((function e(){var i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],a.fichajes.forEach((function(e){if(e.horaSalida){e.diaFichaje=e.diaFichaje.replace("-","/"),e.diaFichaje=e.diaFichaje.replace("-","/");var t={fecha:null,fichajes:[]},s={entrada:null,salida:null};0!==a.allFichajes.length&&a.allFichajes[a.allFichajes.length-1].fecha===e.diaFichaje?(s.entrada=e.horaEntrada,s.salida=e.horaSalida,a.allFichajes[a.allFichajes.length-1].fichajes.push(s)):(i.push(e.diaFichaje),t.fecha=e.diaFichaje,s.entrada=e.horaEntrada,s.salida=e.horaSalida,t.fichajes.push(s),a.allFichajes.push(t))}})),a.datasAllFichajes=i,a.dataFichaje=""+i[i.length-1];case 4:case"end":return e.stop()}}),e)})))()},methods:{diferenciaEntreHoras:function(a,e){var i=a.split(":"),t=new Date;t.setHours(i[0]),t.setMinutes(i[1]),t.setSeconds(i[2]);var s=e.split(":"),c=new Date;return c.setHours(s[0]),c.setMinutes(s[1]),c.setSeconds(s[2]),Math.round(parseFloat((c-t)/1e3/3600))},calcularHorasTotalesDeUnDia:function(a){var e=this,i=0;return a.forEach((function(a){i+=e.diferenciaEntreHoras(a.entrada,a.salida)})),i},calcularHorasTotales:function(a){var e=this,i=0;return a.forEach((function(a){i+=e.calcularHorasTotalesDeUnDia(a.fichajes)})),i}}}),h=n,o=(i("ed45"),i("2877")),f=i("9989"),j=i("52ee"),u=i("adad"),F=i("823b"),v=i("f09f"),p=i("a370"),b=i("9c40"),m=i("7cbe"),E=i("eb85"),x=i("eebe"),S=i.n(x),C=Object(o["a"])(h,t,s,!1,null,"3dea1cfc",null);e["default"]=C.exports;S()(C,"components",{QPage:f["a"],QDate:j["a"],QTabPanels:u["a"],QTabPanel:F["a"],QCard:v["a"],QCardSection:p["a"],QBtn:b["a"],QPopupProxy:m["a"],QSeparator:E["a"]})},b2f8:function(a,e,i){},ed45:function(a,e,i){"use strict";var t=i("b2f8"),s=i.n(t);s.a}}]);