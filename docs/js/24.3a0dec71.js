(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"56b4":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"q-pa-md rounded-borders col-12 col-lg-12 col-md-12 col-sm-12 items-center full-height"},[o("div",{staticStyle:{"min-height":"10vh"}}),o("div",{staticClass:"row q-mt-lg",staticStyle:{"min-height":"50vh"}},[o("div",{staticClass:"col-12  col-lg-3 col-md-12 col-sm-12 "}),o("q-stepper",{ref:"stepper",staticClass:"col-12 col-lg-6 col-md-12 col-sm-12 ",attrs:{animated:"","done-color":"green-6","active-color":"primary","inactive-color":"grey-8","error-color":"red"},scopedSlots:e._u([{key:"navigation",fn:function(){return[o("q-stepper-navigation",[3===e.step&&!0===e.step3Complete?o("q-btn",{attrs:{label:"Crear cuenta",color:"secondary"},on:{click:e.createAccount}}):e._e(),3===e.step&&!1===e.step3Complete?o("q-btn",{attrs:{disable:"",label:"Crear cuenta",color:"secondary"},on:{click:e.createAccount}}):e._e(),3!==e.step?o("q-btn",{attrs:{label:"Siguiente paso",outline:"",color:"secondary"},on:{click:function(t){return e.$refs.stepper.next()}}}):e._e(),e.step>1?o("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"accent",label:"Paso anterior"},on:{click:function(t){return e.$refs.stepper.previous()}}}):e._e()],1)]},proxy:!0}]),model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[o("q-step",{attrs:{name:1,title:"Informacion de login",icon:"settings",done:!0===e.step1Complete,error:!0===e.step1Error}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-lg-8 col-md-8 col-sm-8  q-pa-lg"},[o("div",{staticClass:"text-h6 q-mb-md"},[e._v("Información necesaria para login")]),o("q-input",{staticClass:" q-pr-sm q-pl-sm",attrs:{outlined:"",label:"Email",type:"email",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}]},on:{input:e.comproveStep1},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"alternate_email"}})]},proxy:!0}]),model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}}),o("div",{staticClass:"q-mb-md row"},[o("q-input",{staticClass:"col-12 col-lg-6 col-md-6 col-sm-6 q-pr-sm q-pl-sm q-pt-sm",attrs:{outlined:"",label:"Contraseña",color:"secondary",type:e.isPwd1?"password":"text","lazy-rules":"",rules:[function(e){return e&&e.length>0},function(e){return/([a-z])/.test(e)||"Debe contener letras mínusculas."},function(e){return/([A-Z])/.test(e)||"Debe contener letras mayúsculas."},function(e){return/([0-9])/.test(e)||"Debe contener números."},function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/.test(e)||"Debe tener entre 8 y 20 carácteres."}]},on:{input:e.comproveStep1},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"fas fa-key"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd1?"visibility_off":"visibility"},on:{click:function(t){e.isPwd1=!e.isPwd1}}})]},proxy:!0}]),model:{value:e.usuario.contraseña,callback:function(t){e.$set(e.usuario,"contraseña",t)},expression:"usuario.contraseña"}}),o("q-input",{staticClass:"col-12 col-lg-6 col-md-6 col-sm-6 q-pr-sm q-pl-sm q-pt-sm",attrs:{outlined:"",label:"Repetir contraseña",color:"secondary",type:e.isPwd2?"password":"text","lazy-rules":"",rules:[function(e){return e&&e.length>0},function(t){return t===e.usuario.contraseña||"Las contraseñas no coindicen."}]},on:{input:e.comproveStep1},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"fas fa-key"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.usuario.contraseña2,callback:function(t){e.$set(e.usuario,"contraseña2",t)},expression:"usuario.contraseña2"}})],1)],1),o("div",{staticClass:"col-12 col-lg-4 col-md-4 col-sm-4  column flex-center content-center"},[o("q-icon",{attrs:{name:"img:statics/tresee_shield.svg",size:"22em"}}),e._v("\n\n            Por que tu seguriad nos importa.\n          ")],1)])]),o("q-step",{attrs:{name:2,title:"Información personal",icon:"far fa-user-circle",done:!0===e.step2Complete,error:!0===e.step2Error}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-lg-8 col-md-8 col-sm-8  q-pa-lg"},[o("div",{staticClass:"text-h6 q-mb-md"},[e._v("Información personal")]),o("div",{staticClass:"row"},[o("q-input",{staticClass:"col-4 q-pr-sm",attrs:{outlined:"",label:"Nombre",type:"text",color:"secondary",placeholder:"John","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep2},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}}),o("q-input",{staticClass:"col-8 q-pl-sm",attrs:{outlined:"",label:"Apellidos",type:"text",color:"secondary",placeholder:"Doe","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep2},model:{value:e.usuario.apellidos,callback:function(t){e.$set(e.usuario,"apellidos",t)},expression:"usuario.apellidos"}})],1),o("div",{staticClass:"row vertical-middle"},[o("q-input",{staticClass:"col-5   q-pr-sm",attrs:{outlined:"",mask:"date",label:"Fecha de nacimiento","lazy-rules":"",rules:["date",function(e){return e&&e.length>0}],color:"secondary"},on:{input:e.comproveStep2},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{attrs:{color:"accent"},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.usuario.dataNacimiento,callback:function(t){e.$set(e.usuario,"dataNacimiento",t)},expression:"usuario.dataNacimiento"}})],1)],1)]},proxy:!0}]),model:{value:e.usuario.dataNacimiento,callback:function(t){e.$set(e.usuario,"dataNacimiento",t)},expression:"usuario.dataNacimiento"}},[o("q-tooltip",{attrs:{anchor:"bottom right",self:"bottom right",offset:[-10,35],"content-class":"bg-accent","content-style":"font-size: 12px"}},[e._v("\n                  Pulsa el icono\n                  "),o("q-icon",{attrs:{name:"fas fa-level-up-alt"}})],1)],1),o("q-select",{staticClass:"col-7",attrs:{outlined:"",options:e.opcionesSexo,label:"Sexo",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep2},model:{value:e.usuario.genero,callback:function(t){e.$set(e.usuario,"genero",t)},expression:"usuario.genero"}})],1)]),o("div",{staticClass:"col-12 col-lg-4 col-md-4 col-sm-4  column flex-center content-center"},[o("q-icon",{attrs:{name:"img:statics/tresee_shield.svg",size:"22em"}}),e._v("\n            Por que tu seguriad nos importa.\n          ")],1)])]),o("q-step",{attrs:{name:3,icon:"fas fa-map-marked-alt",title:"Dirección",done:!0===e.step3Complete,error:!0===e.step3Error}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-lg-8 col-md-8 col-sm-8  q-pa-lg"},[o("div",{staticClass:"text-h6 q-mb-md"},[e._v("Dirección")]),o("div",{staticClass:" row"},[o("q-input",{staticClass:"col-8 col-lg-9 col-md-8 col-sm-7 q-pl-sm q-pr-sm",attrs:{outlined:"",label:"Calle",type:"text",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep3},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"fas fa-road"}})]},proxy:!0}]),model:{value:e.direccion.calle,callback:function(t){e.$set(e.direccion,"calle",t)},expression:"direccion.calle"}}),o("q-input",{staticClass:"col-4 col-lg-3 col-md-4 col-sm-5  q-pl-sm q-pr-sm",attrs:{outlined:"",label:"Número",type:"number",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep3},model:{value:e.direccion.numero,callback:function(t){e.$set(e.direccion,"numero",t)},expression:"direccion.numero"}})],1),o("div",{staticClass:" row"},[o("q-input",{staticClass:"col-12 col-lg-3 col-md-3 col-sm-3 q-pl-sm q-pr-sm ",attrs:{outlined:"",label:"Código postal",type:"number",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep3},model:{value:e.direccion.zip,callback:function(t){e.$set(e.direccion,"zip",t)},expression:"direccion.zip"}}),o("q-input",{staticClass:"col-12 col-lg-4 col-md-4 col-sm-4 q-pl-sm q-pr-sm ",attrs:{outlined:"",label:"Ciudad",type:"text",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep3},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"fas fa-city"}})]},proxy:!0}]),model:{value:e.direccion.ciudad,callback:function(t){e.$set(e.direccion,"ciudad",t)},expression:"direccion.ciudad"}}),o("q-input",{staticClass:"col-12 col-lg-5 col-md-5 col-sm-5 q-pl-sm q-pr-sm ",attrs:{outlined:"",label:"País",type:"text",color:"secondary","lazy-rules":"",rules:[function(e){return e&&e.length>0}]},on:{input:e.comproveStep3},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"fas fa-globe-americas"}})]},proxy:!0}]),model:{value:e.direccion.pais,callback:function(t){e.$set(e.direccion,"pais",t)},expression:"direccion.pais"}})],1)]),o("div",{staticClass:"col-12 col-lg-4 col-md-4 col-sm-4  column flex-center content-center"},[o("q-icon",{attrs:{name:"img:statics/tresee_shield.svg",size:"22em"}}),e._v("\n            Por que tu seguriad nos importa.\n          ")],1)])])],1)],1)])},r=[],a=o("fa84"),n=o.n(a),i=o("967e"),c=o.n(i),l=o("720d"),u={name:"Register",data:function(){return{isPwd1:!0,isPwd2:!0,step:1,opcionesSexo:["HOMBRE","MUJER","INDEFINIDO"],usuario:{nombre:"",apellidos:"",direccion:"",email:"",dataNacimiento:"","contraseña":"","contraseña2":"",genero:""},direccion:{calle:"",numero:null,zip:null,ciudad:"",pais:""},prueba:"ola",informationComplete:!1,step1Complete:!1,step1Error:!1,step2Complete:!1,step2Error:!1,step3Complete:!1,step3Error:!1,recaptcha:null}},created:function(){var e=this;return n()(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["load"])("",{autoHideBadge:!0});case 2:e.recaptcha=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{createAccount:function(){var e=this;return n()(c.a.mark((function t(){var o;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.usuario.direccion=e.direccion.calle+", "+e.direccion.numero+", "+e.direccion.zip+", "+e.direccion.ciudad+", "+e.direccion.pais,t.next=3,e.recaptcha.execute({action:"register"});case 3:return e.usuario.tokenCaptcha=t.sent,t.next=6,e.$axiosNode.post("/auth/register",e.usuario);case 6:if(o=t.sent,200===o.status){t.next=11;break}e.$q.notify({message:o.statusText,icon:"fas fa-exclamation-triangle",color:"negative"}),t.next=17;break;case 11:if(200!==o.status){t.next=17;break}return localStorage.setItem("accessToken",o.data.accessToken),localStorage.setItem("refreshToken",o.data.refreshToken),localStorage.setItem("rol",o.data.rol),t.next=17,e.$router.push("/estudiante");case 17:case"end":return t.stop()}}),t)})))()},comproveStep1:function(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.usuario.email)&&/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/.test(this.usuario.contraseña)&&this.usuario.contraseña===this.usuario.contraseña2?(this.step1Complete=!0,this.step1Error=!1):(this.step1Error=!0,this.step1Complete=!1)},comproveStep2:function(){this.usuario.nombre&&this.usuario.apellidos&&this.usuario.genero&&this.usuario.dataNacimiento?(this.step2Complete=!0,this.step2Error=!1):(this.step2Complete=!1,this.step2Error=!0)},comproveStep3:function(){this.step1Complete&&this.step2Complete&&this.direccion.calle&&this.direccion.numero&&this.direccion.zip&&this.direccion.ciudad&&this.direccion.pais?(this.step3Complete=!0,this.step3Error=!1):(this.step3Complete=!1,this.step3Error=!0)}}},p=u,d=o("2877"),m=o("f531"),f=o("87fe"),v=o("27f9"),h=o("0016"),y=o("7cbe"),q=o("52ee"),g=o("05c0"),b=o("ddd8"),C=o("b19c"),x=o("9c40"),k=o("eebe"),w=o.n(k),S=Object(d["a"])(p,s,r,!1,null,"7d6d3e5c",null);t["default"]=S.exports;w()(S,"components",{QStepper:m["a"],QStep:f["a"],QInput:v["a"],QIcon:h["a"],QPopupProxy:y["a"],QDate:q["a"],QTooltip:g["a"],QSelect:b["a"],QStepperNavigation:C["a"],QBtn:x["a"]})}}]);