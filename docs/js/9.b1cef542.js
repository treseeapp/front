(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"15bf":function(t,e,a){},3038:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("q-layout",{attrs:{view:"hHh LpR fFf"}},[s("q-header",{staticClass:"bg-primary text-white"},[s("q-toolbar",[s("q-btn",{staticClass:"sm",attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),s("q-btn",{staticClass:"xs",attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),s("q-toolbar-title",{},[s("span",{staticClass:"text-h4 font-prime-regular q-pl-sm vertical-middle"},[e._v("\n          tresee\n        ")]),"profesor"===e.userRol?s("q-badge",{attrs:{color:"white","text-color":"white",outline:""}},[e._v("\n          Vista Profesor\n        ")]):e._e(),"estudiante"===e.userRol?s("q-badge",{attrs:{color:"white","text-color":"white",outline:""}},[e._v("\n          Vista Estudiante\n        ")]):e._e()],1),s("q-btn",{attrs:{label:"estudiante"===e.userRol.toLowerCase()?"Cambiar a Profesor":"Cambiar a Estudiante",flat:"",icon:"fas fa-user-graduate"},on:{click:e.changeUserRol}}),"estudiante"===e.userRol?s("q-btn",{attrs:{flat:"",icon:"fas fa-id-badge",label:e.isEntradaOrSalida?"Fichar entrada":"Fichar salida"},on:{click:e.fichar}}):e._e(),s("q-btn",{staticClass:"q-ml-md",attrs:{icon:"settings",flat:"",round:""}},[s("q-menu",[s("q-list",[s("q-item-label",{staticClass:"q-pb-xs",attrs:{header:""}},[e._v("Ajustes de sistema")]),s("q-separator",{attrs:{inset:""}}),s("q-item",{staticClass:"flex flex-center"},[s("q-item-section",[s("q-item-label",[e._v("Tema")])],1),s("q-icon",{attrs:{name:"wb_sunny"}}),s("q-toggle",{attrs:{color:"blue"},on:{input:e.guardarAjusteDarkMode},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}}),s("q-icon",{attrs:{name:"nights_stay"}})],1),s("q-item-label",{staticClass:"q-mt-md q-pb-xs",attrs:{header:""}},[e._v("Ajustes de sonido")]),s("q-separator",{attrs:{inset:""}}),s("q-item",{staticClass:"row"},[s("q-item-section",[s("q-item-label",[e._v("Notificaciones")])],1),s("q-item-section",{attrs:{side:""}},[s("q-toggle",{staticClass:"flex justify-end",attrs:{color:"blue"},model:{value:e.puedeNotificarSonido,callback:function(t){e.puedeNotificarSonido=t},expression:"puedeNotificarSonido"}})],1)],1),s("q-item",[s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{color:"blue-5",name:"volume_down"}})],1),s("q-item-section",[s("q-slider",{attrs:{min:1,max:10,label:"",color:"blue-5",disable:!e.puedeNotificarSonido},model:{value:e.volumenNotificacion,callback:function(t){e.volumenNotificacion=t},expression:"volumenNotificacion"}})],1),s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{color:"blue-5",name:"volume_up"}})],1)],1)],1)],1)],1)],1)],1),s("q-drawer",{attrs:{"show-if-above":"",side:"left",bordered:""},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[s("div",{staticClass:"row q-mt-md"},[s("div",{staticClass:"col-2"}),s("div",{staticClass:"col-8 "},[s("div",{staticClass:"row flex-center q-mb-sm"},[s("q-avatar",{attrs:{rounded:"",size:"50px"}},[s("q-img",{attrs:{src:e.logedUser.foto,ratio:1,"placeholder-src":"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRr1v58ICPpgv8t4zeWFfmJqBre8Xedi8agxMpKEHR-G5L06sic","spinner-color":"primary"}})],1)],1),s("div",{staticClass:"row flex-center "},[s("span",{staticClass:"text-h6 font-prime-regular"},[e._v(e._s(e.logedUser.nombre))])]),s("q-separator",{staticClass:"q-mt-sm q-mb-sm"}),s("div",{staticClass:"row flex-center justify-evenly q-mb-sm"},[s("q-btn",{attrs:{outline:"",icon:"person",color:"indigo",to:"/DEMO/account"}},[s("q-tooltip",{attrs:{"content-class":"bg-indigo",delay:300,offset:[10,10]}},[e._v("\n              Account\n            ")])],1),s("q-btn",{attrs:{icon:"lock",color:"negative",outline:""},on:{click:function(t){e.confirmDisconnect=!0}}},[s("q-tooltip",{attrs:{"content-class":"bg-red",delay:300,offset:[10,10]}},[e._v("\n              Log Out\n            ")])],1)],1)],1)]),s("q-separator",{staticClass:"q-mt-sm q-mb-sm"}),s("q-list",e._l(e.menuLinks,(function(t){return t.rolNeeded===e.userRol?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:t.link}},[s("q-item-section",{attrs:{avatar:"",top:""}},[s("q-icon",{attrs:{name:t.icon,color:"secondary",size:"2em"}})],1),s("q-item-section",[s("q-item-label",{staticStyle:{"font-size":"1.2em"},attrs:{lines:"1"}},[e._v(e._s(t.title))])],1)],1):e._e()})),1)],1),s("q-page-container",[s("router-view")],1),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[s("q-btn",{attrs:{fab:"",color:"blue",icon:"far fa-comments"},on:{click:function(){t.mostrarChat=!t.mostrarChat,e.emptyNumberMessages()}}},[e.mensajesSinLeer>0?s("q-badge",{attrs:{color:"red",floating:""}},[e._v(e._s(e.mensajesSinLeer))]):e._e()],1)],1),e.mostrarChat?s("q-page-sticky",{attrs:{position:"bottom-right",offset:[e.$q.screen.lt.sm?"30":"90",7]}},[s("q-card",{staticStyle:{"min-height":"45vh","min-width":"350px","max-width":"351px"}},[s("q-card-section",{staticStyle:{"min-height":"5vh"}},[s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text-h6"},[e._v("Chat grupal")])]),s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{color:"accent",outline:"",round:"",icon:"close"},on:{click:function(t){e.mostrarChat=!1}}})],1)])]),s("q-separator",{attrs:{inset:""}}),[s("div",[s("q-virtual-scroll",{ref:"virtualListRef",staticClass:"chatSpace",staticStyle:{height:"300px"},attrs:{items:e.allMensajes,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;t.index;return[s("q-item-section",{staticClass:"q-pr-lg q-pl-lg q-pt-sm q-pb-sm"},["join"===a.tipo.toLowerCase()?s("q-badge",{staticClass:"q-pa-sm",attrs:{color:"grey-7"}},[e._v("\n                  "+e._s(a.usuario)+" se ha conectado\n                ")]):e._e(),a.usuario===e.logedUser.nombre&&"join"!==a.tipo.toLowerCase()?s("q-chat-message",{attrs:{name:a.usuario,text:[a.contenido],sent:"","text-color":"white","bg-color":"green",stamp:e._f("filtrarHoraMensaje")(a)}}):e._e()],1)]}}],null,!1,585436935)})],1)],s("q-separator",{attrs:{inset:""}}),s("q-card-section",{staticClass:"q-pa-md",staticStyle:{"min-height":"7vh"}},[s("q-input",{attrs:{outlined:"",autogrow:"",color:"green",placeholder:"Enter para enviar"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},click:function(t){e.mostrarEmojis=!1}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"far fa-grin",color:e.mostrarEmojis?"blue":""},on:{click:function(t){e.mostrarEmojis=!e.mostrarEmojis}}})]},proxy:!0},{key:"append",fn:function(){return[""===e.actualMensajeChat?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"far fa-paper-plane",color:"green"}}):e._e(),""!==e.actualMensajeChat?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"far fa-paper-plane",color:"green"},on:{click:e.send}}):e._e()]},proxy:!0}],null,!1,2546511792),model:{value:e.actualMensajeChat,callback:function(t){e.actualMensajeChat=t},expression:"actualMensajeChat"}})],1)],2)],1):e._e(),e.mostrarEmojis?s("q-page-sticky",{attrs:{position:"bottom-right",offset:[e.$q.screen.lt.sm?"30":"340",95]}},[s("VEmojiPicker",{staticClass:"shadow-transition",on:{select:e.selectEmoji}})],1):e._e(),s("q-dialog",{model:{value:e.confirmDisconnect,callback:function(t){e.confirmDisconnect=t},expression:"confirmDisconnect"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm"},[e._v("Â¿Estas seguro que deseas desconectarte?")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Desconectar",color:"primary",to:"/"}})],1)],1)],1),s("q-ajax-bar",{ref:"bar",attrs:{position:"top",color:"secondary",size:"4px"}})],1)},o=[],i=a("fa84"),r=a.n(i),n=(a("a481"),a("967e")),c=a.n(n),l=(a("cc7d"),a("c6e1"),a("79b5")),u=a("d7c8"),d={components:{VEmojiPicker:l["a"]},created:function(){var t=this;return r()(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isEntradaOrSalida=!0,t.updaterMessages=setInterval((function(){if(t.allMensajes.length>0){var e=t.allMensajes;t.allMensajes=null,t.allMensajes=e}}),3e4),t.puedeNotificarSonido=!0,t.volumenNotificacion=5,t.darkMode=!1;case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{volumenNotificacion:null,puedeNotificarSonido:null,mostrarEmojis:!1,isEntradaOrSalida:!0,updaterMessages:null,mensajesSinLeer:0,subscripcion:"",stompClient:null,socket:null,allMensajes:[],actualMensajeChat:"",mostrarChat:!1,confirmDisconnect:!1,userRol:"profesor",firstEntry:!0,scrollIndexNumber:99999,left:!1,darkMode:!1,logedUser:{email:"demo@tresee.app",nombre:"Demo User",apellidos:"tresee",foto:"https://cdn.quasar.dev/img/boy-avatar.png"},menuLinks:[{title:"Dashboard",rolNeeded:"profesor",link:"/DEMO/profesor/dashboard",icon:"fas fa-chart-pie"},{title:"Estudiantes",rolNeeded:"profesor",link:"/DEMO/profesor/estudiantes",icon:"fas fa-user-graduate"},{title:"Empresas",rolNeeded:"profesor",link:"/DEMO/profesor/empresas",icon:"fas fa-city"},{title:"Dashboard",rolNeeded:"estudiante",link:"/DEMO/estudiante/dashboard",icon:"fas fa-chart-pie"},{title:"Fichajes",rolNeeded:"estudiante",link:"/DEMO/estudiante/fichajes",icon:"fas fa-clipboard-check"}]}},methods:{changeUserRol:function(){"profesor"==this.userRol.toLowerCase()?(this.userRol="estudiante",this.$router.push("/DEMO/estudiante/dashboard/")):(this.userRol="profesor",this.$router.push("/DEMO/profesor/dashboard"))},notificarSonido:function(){this.puedeNotificarSonido&&(u["volume"](this.volumenNotificacion/10),u("submarine"))},guardarAjusteDarkMode:function(){this.cambiarEstadoDarkMode()},cambiarEstadoDarkMode:function(){this.$q.dark.set(this.darkMode)},send:function(){var t=this.actualMensajeChat.replace(/\s/g,"");if(""!==t){var e=new Date,a={contenido:this.actualMensajeChat,usuario:"Demo User",tipo:"CHAT"};a.tiempo={hora:e.getHours(),minutos:e.getMinutes()},this.allMensajes.push(a),this.actualMensajeChat="",this.mostrarEmojis=!1}},emptyNumberMessages:function(){this.mensajesSinLeer=0},selectEmoji:function(t){this.actualMensajeChat+=t.data},mostrarNotificacion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"indigo",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top-right";this.notificarSonido(),this.$q.notify({color:e,message:t,position:s,timeout:5e3,multiLine:a})},fichar:function(){this.isEntradaOrSalida?this.ficharEntrada():this.ficharSalida()},ficharEntrada:function(){var t=this;return r()(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:setTimeout((function(){t.mostrarNotificacion("Fichaje correcto! Bienvenido al trabajo","green",!1,"bottom-left"),t.isEntradaOrSalida=!1}),500);case 1:case"end":return e.stop()}}),e)})))()},ficharSalida:function(){var t=this;return r()(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:setTimeout((function(){t.mostrarNotificacion("Saliendo del trabajo. Que tengas un buen dia","green",!1,"bottom-left"),t.isEntradaOrSalida=!0}),500);case 1:case"end":return e.stop()}}),e)})))()}},filters:{filtrarHoraMensaje:function(t){var e=t.tiempo,a=new Date,s=!0;return e.hora===a.getHours()&&(s=!(e.minutos>=a.getMinutes()-5&&e.minutos<=a.getMinutes())),s?t.tiempo.minutos<10?t.tiempo.hora+":0"+t.tiempo.minutos:t.tiempo.hora+":"+t.tiempo.minutos:e.minutos===a.getMinutes()?"ahora":a.getMinutes()-e.minutos+" min"}}},m=d,f=(a("c67c"),a("2877")),p=a("4d5a"),h=a("e359"),b=a("65c6"),q=a("9c40"),g=a("6ac5"),v=a("58a8"),C=a("4e73"),k=a("1c1c"),j=a("0170"),w=a("eb85"),M=a("66e5"),x=a("4074"),y=a("0016"),_=a("9564"),E=a("c1d0"),S=a("9404"),N=a("cb32"),Q=a("068f"),D=a("05c0"),L=a("09e3"),O=a("de5e"),R=a("f09f"),A=a("a370"),I=a("a12b"),T=a("8169"),H=a("27f9"),P=a("24e8"),U=a("4b7e"),$=a("7ea5"),F=a("714f"),z=a("7f67"),B=a("eebe"),V=a.n(B),J=Object(f["a"])(m,s,o,!1,null,"26e63d6c",null);e["default"]=J.exports;V()(J,"components",{QLayout:p["a"],QHeader:h["a"],QToolbar:b["a"],QBtn:q["a"],QToolbarTitle:g["a"],QBadge:v["a"],QMenu:C["a"],QList:k["a"],QItemLabel:j["a"],QSeparator:w["a"],QItem:M["a"],QItemSection:x["a"],QIcon:y["a"],QToggle:_["a"],QSlider:E["a"],QDrawer:S["a"],QAvatar:N["a"],QImg:Q["a"],QTooltip:D["a"],QPageContainer:L["a"],QPageSticky:O["a"],QCard:R["a"],QCardSection:A["a"],QVirtualScroll:I["a"],QChatMessage:T["a"],QInput:H["a"],QDialog:P["a"],QCardActions:U["a"],QAjaxBar:$["a"]}),V()(J,"directives",{Ripple:F["a"],ClosePopup:z["a"]})},c67c:function(t,e,a){"use strict";var s=a("15bf"),o=a.n(s);o.a}}]);