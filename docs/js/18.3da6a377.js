(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{1993:function(a,i,e){"use strict";var r=e("55ec"),d=e.n(r);d.a},"55ec":function(a,i,e){},"82b8":function(a,i,e){"use strict";e.r(i);var r=function(){var a=this,i=a.$createElement,e=a._self._c||i;return e("q-page",{staticClass:"row bg-imagen"},[e("div",{staticClass:"col-lg-8 col-md-8 col-sm-12 col-xs-12 col-12  q-pa-lg"},[e("q-card",{staticClass:"no-shadow bg-transparent"},[a.mostrarGraficoLineas?a._e():e("q-card-section",[e("q-skeleton",{attrs:{height:"60vh",animation:"wave"}})],1),a.mostrarGraficoLineas?e("q-card-section",{staticClass:"row"},[e("chartLinea",{ref:"chartLinea",staticClass:"no-border",attrs:{"width-canvas-porcentaje":"100",labels:a.graficoHorasEstudiantes.labels,datasets:a.graficoHorasEstudiantes.datasets,title:a.graficoHorasEstudiantes.titulo}}),e("q-btn",{staticClass:"absolute-top-right q-mt-lg q-mr-lg",attrs:{label:"Seleccionar estudiante",color:"green"},on:{click:a.reloadAndChangeDatasetHoras}},[e("q-menu",{attrs:{"transition-show":"jump-down","transition-hide":"jump-up"}},[e("q-list",{staticStyle:{"max-height":"400px"}},a._l(a.todosLosEstudiantes,(function(i){return e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return a.changeDataSetStudentsHoursChart(i)}}},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",[e("q-img",{attrs:{src:i.foto,"placeholder-src":"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRr1v58ICPpgv8t4zeWFfmJqBre8Xedi8agxMpKEHR-G5L06sic",ratio:1,"spinner-color":"primary"}})],1)],1),e("q-item-section",[a._v(a._s(i.nombre)+" "+a._s(i.apellidos))])],1)})),1)],1)],1)],1):a._e()],1)],1),e("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12 col-12  q-pa-lg"},[e("q-card",{staticClass:"shadow-0 bg-transparent"},[e("q-card-section",[a.mostrarGraficoBarras?a._e():e("q-skeleton",{attrs:{height:"30vh",animation:"wave"}})],1),e("q-card-section",[a.mostrarGraficoBarras?e("barras-empresas-usuarios",{attrs:{title:a.graficoEstudiantesEmpresas.titulo,labels:a.graficoEstudiantesEmpresas.labels,datasets:a.graficoEstudiantesEmpresas.datasets,"width-canvas-porcentaje":"100"}}):a._e()],1),e("q-card-section",[e("q-table",{attrs:{"rows-per-page-options":[5],title:"Estudiantes",data:a.studentTable.data,columns:a.studentTable.columns,"row-key":"name","visible-columns":a.studentTable.visibleColumns},scopedSlots:a._u([{key:"top",fn:function(){return[e("img",{staticStyle:{height:"50px",width:"50px"},attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}}),e("q-space"),e("q-select",{staticStyle:{"min-width":"150px"},attrs:{multiple:"",outlined:"",dense:"","options-dense":"","display-value":a.$q.lang.table.columns,"emit-value":"","map-options":"",options:a.studentTable.columns,"option-value":"name","options-cover":""},model:{value:a.studentTable.visibleColumns,callback:function(i){a.$set(a.studentTable,"visibleColumns",i)},expression:"studentTable.visibleColumns"}})]},proxy:!0}])})],1)],1)],1)])},d=[],t=e("fa84"),o=e.n(t),h=e("967e"),s=e.n(h),c=(e("6d67"),e("d25f"),e("28a5"),e("33e7")),n=e("7f10"),l={name:"Dashboard",data:function(){return{studentTable:{visibleColumns:["nombre","apellidos"],columns:[{name:"nombre",align:"left",label:"Nombre",field:"nombre",sortable:!0},{name:"apellidos",align:"center",label:"Apellidos",field:"apellidos",sortable:!0},{name:"email",label:"Email",field:"email",sortable:!0},{name:"dataNacimiento",label:"Fecha de nac",field:"dataNacimiento",sortable:!0}],data:[]},graficoEstudiantesEmpresas:{labels:[],datasets:[],titulo:"Estudiantes por empresa actuales"},graficoHorasEstudiantes:{labels:[],datasets:[],titulo:"Horas fichadas por dia"},mostrarGraficoBarras:!1,mostrarGraficoLineas:!1,todosLosEstudiantes:[{idusuario:1,nombre:"Fernando",apellidos:"Perez",email:"fer@tresee.app",genero:"HOMBRE",foto:e("72b2"),dataNacimiento:"1998-03-16",empresa:{idempresa:1,nombre:"iajoo"},fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:10,diaFichaje:"2020/05/06",horaEntrada:"16:23:42",horaSalida:"17:55:55"},{idfichaje:11,diaFichaje:"2020/05/07",horaEntrada:"09:01:35",horaSalida:"17:30:00"},{idfichaje:12,diaFichaje:"2020/05/08",horaEntrada:"08:15:30",horaSalida:"13:45:00"},{idfichaje:13,diaFichaje:"2020/05/08",horaEntrada:"14:30:45",horaSalida:"17:25:52"},{idfichaje:14,diaFichaje:"2020/05/11",horaEntrada:"09:05:03",horaSalida:"15:10:10"},{idfichaje:15,diaFichaje:"2020/05/11",horaEntrada:"16:23:42",horaSalida:"19:50:20"},{idfichaje:16,diaFichaje:"2020/05/12",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:17,diaFichaje:"2020/05/13",horaEntrada:"09:10:15",horaSalida:"17:10:10"},{idfichaje:18,diaFichaje:"2020/05/14",horaEntrada:"08:20:50",horaSalida:"17:05:30"},{idfichaje:19,diaFichaje:"2020/05/15",horaEntrada:"09:01:30",horaSalida:"17:30:30"},{idfichaje:20,diaFichaje:"2020/05/16",horaEntrada:"09:04:32",horaSalida:"16:20:50"}]},{idusuario:2,nombre:"Mar√≠a",apellidos:"Fernandez",email:"mfernandez@tresee.app",genero:"MUJER",foto:e("0b65"),dataNacimiento:"1997-09-16",empresa:{idempresa:2,nombre:"tuitah"},fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:10,diaFichaje:"2020/05/06",horaEntrada:"16:23:42",horaSalida:"17:55:55"}]},{idusuario:3,nombre:"Paco",apellidos:"Alonso",email:"palonso@tresee.app",genero:"HOMBRE",foto:e("f7c1"),dataNacimiento:"1990-09-13",empresa:{idempresa:3,nombre:"Gogle sle"},fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:10,diaFichaje:"2020/05/06",horaEntrada:"16:23:42",horaSalida:"17:55:55"},{idfichaje:11,diaFichaje:"2020/05/07",horaEntrada:"09:01:35",horaSalida:"17:30:00"},{idfichaje:12,diaFichaje:"2020/05/08",horaEntrada:"08:15:30",horaSalida:"13:45:00"},{idfichaje:13,diaFichaje:"2020/05/08",horaEntrada:"14:30:45",horaSalida:"17:25:52"},{idfichaje:14,diaFichaje:"2020/05/11",horaEntrada:"09:05:03",horaSalida:"15:10:10"},{idfichaje:15,diaFichaje:"2020/05/11",horaEntrada:"16:23:42",horaSalida:"19:50:20"}]},{idusuario:4,nombre:"Richard",apellidos:"Hendricks",email:"rich@tresee.app",genero:"HOMBRE",foto:e("fed9"),dataNacimiento:"1978-01-16",empresa:{idempresa:4,nombre:"Fasebuk"},fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"}]},{idusuario:5,nombre:"Joan",apellidos:"Pacheco",email:"joapacheco@tresee.app",genero:"HOMBRE",foto:e("7662"),dataNacimiento:"",empresa:{idempresa:5,nombre:"telejrom"},fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:10,diaFichaje:"2020/05/06",horaEntrada:"16:23:42",horaSalida:"17:55:55"},{idfichaje:11,diaFichaje:"2020/05/07",horaEntrada:"09:01:35",horaSalida:"17:30:00"},{idfichaje:12,diaFichaje:"2020/05/08",horaEntrada:"08:15:30",horaSalida:"13:45:00"},{idfichaje:13,diaFichaje:"2020/05/08",horaEntrada:"14:30:45",horaSalida:"17:25:52"},{idfichaje:14,diaFichaje:"2020/05/11",horaEntrada:"09:05:03",horaSalida:"15:10:10"},{idfichaje:15,diaFichaje:"2020/05/11",horaEntrada:"16:23:42",horaSalida:"19:50:20"},{idfichaje:16,diaFichaje:"2020/05/12",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:17,diaFichaje:"2020/05/13",horaEntrada:"09:10:15",horaSalida:"17:10:10"},{idfichaje:18,diaFichaje:"2020/05/14",horaEntrada:"08:20:50",horaSalida:"17:05:30"},{idfichaje:19,diaFichaje:"2020/05/15",horaEntrada:"09:01:30",horaSalida:"17:30:30"},{idfichaje:20,diaFichaje:"2020/05/16",horaEntrada:"09:04:32",horaSalida:"16:20:50"}]},{idusuario:6,nombre:"Manolo",apellidos:"Sanchez",email:"msanchez@tresee.app",genero:"HOMBRE",foto:e("694c"),dataNacimiento:"24-02-1956",empresa:null,fichajes:[{idfichaje:1,diaFichaje:"2020/04/27",horaEntrada:"09:01:12",horaSalida:"17:20:00"},{idfichaje:2,diaFichaje:"2020/04/28",horaEntrada:"09:03:12",horaSalida:"17:05:59"},{idfichaje:3,diaFichaje:"2020/04/29",horaEntrada:"09:23:42",horaSalida:"13:05:59"},{idfichaje:4,diaFichaje:"2020/04/29",horaEntrada:"13:55:12",horaSalida:"17:55:00"},{idfichaje:5,diaFichaje:"2020/04/30",horaEntrada:"09:00:00",horaSalida:"15:00:00"},{idfichaje:6,diaFichaje:"2020/05/04",horaEntrada:"09:23:42",horaSalida:"17:54:40"},{idfichaje:7,diaFichaje:"2020/05/05",horaEntrada:"08:23:42",horaSalida:"18:15:00"},{idfichaje:8,diaFichaje:"2020/05/06",horaEntrada:"09:02:42",horaSalida:"12:50:50"},{idfichaje:9,diaFichaje:"2020/05/06",horaEntrada:"15:00:00",horaSalida:"15:45:10"},{idfichaje:11,diaFichaje:"2020/05/07",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:12,diaFichaje:"2020/05/08",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:14,diaFichaje:"2020/05/11",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:16,diaFichaje:"2020/05/12",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:17,diaFichaje:"2020/05/13",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:18,diaFichaje:"2020/05/14",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:19,diaFichaje:"2020/05/15",horaEntrada:"09:00:00",horaSalida:"17:00:00"},{idfichaje:20,diaFichaje:"2020/05/16",horaEntrada:"09:04:32",horaSalida:"16:20:50"}]}],arrayColoresDistintos:["#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850"],empresas:[{idempresa:1,nombre:"iajoo",estudiantes:"2"},{idempresa:2,nombre:"tuitah",estudiantes:"0"},{idempresa:3,nombre:"Gogle sle",estudiantes:"2"},{idempresa:4,nombre:"Fasebuk",estudiantes:"2"},{idempresa:5,nombre:"telejrom",estudiantes:"1"},{idempresa:6,nombre:"shaome",estudiantes:"1"}]}},components:{chartLinea:c["a"],barrasEmpresasUsuarios:n["a"]},created:function(){var a=this;return o()(s.a.mark((function i(){var e;return s.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e={data:[],label:"Estudiantes",backgroundColor:a.arrayColoresDistintos,fill:!1},a.empresas.map((function(i){a.graficoEstudiantesEmpresas.labels.push(i.nombre),e.data.push(i.estudiantes)})),a.graficoEstudiantesEmpresas.datasets.push(e),a.mostrarGraficoBarras=!0,a.todosLosEstudiantes.length>0&&a.changeDataSetStudentsHoursChart(a.todosLosEstudiantes[0]),console.log(a.todosLosEstudiantes),a.studentTable.data=a.todosLosEstudiantes;case 7:case"end":return i.stop()}}),i)})))()},mounted:function(){},methods:{changeDataSetStudentsHoursChart:function(a){var i=this,e=[],r={data:[],label:"Horas fichadas",borderColor:"#283592",backgroundColor:"rgba(233,67,122,0.21)",fill:!0},d=[];a.fichajes.map((function(a){if(a.horaEntrada&&a.horaSalida){var r=!1;e.forEach((function(i){i===a.diaFichaje&&(r=!0)}));var t={label:null,horasFichadas:null};if(r){var o=d.filter((function(i){return i.label===a.diaFichaje}));o=o[0],o.horasFichadas+=i.getDiffHoras(a.horaEntrada,a.horaSalida)}else e.push(a.diaFichaje),t.label=a.diaFichaje,t.horasFichadas=i.getDiffHoras(a.horaEntrada,a.horaSalida),d.push(t)}})),d.map((function(a){r.data.push(a.horasFichadas)}));var t=0;r.data.map((function(a){t+=parseFloat(a.toFixed(2))})),this.graficoHorasEstudiantes.titulo=a.nombre+" "+a.apellidos+" tiene "+t+" horas fichadas",this.graficoHorasEstudiantes.labels=e,this.graficoHorasEstudiantes.datasets=[],this.graficoHorasEstudiantes.datasets.push(r),this.mostrarGraficoLineas&&this.$refs.chartLinea.updateChart(this.graficoHorasEstudiantes.labels,this.graficoHorasEstudiantes.datasets,this.graficoHorasEstudiantes.titulo),this.mostrarGraficoLineas=!0},getDiffHoras:function(a,i){var e=a.split(":"),r=new Date;r.setHours(e[0]),r.setMinutes(e[1]),r.setSeconds(e[2]);var d=i.split(":"),t=new Date;return t.setHours(d[0]),t.setMinutes(d[1]),t.setSeconds(d[2]),parseFloat(((t-r)/1e3/3600).toFixed(2))},reloadAndChangeDatasetHoras:function(){this.cogerEstudiantes()}}},j=l,f=(e("1993"),e("2877")),u=e("9989"),m=e("f09f"),E=e("a370"),p=e("293e"),S=e("9c40"),F=e("4e73"),b=e("1c1c"),g=e("66e5"),v=e("4074"),q=e("cb32"),H=e("068f"),C=e("eaac"),w=e("2c91"),k=e("ddd8"),L=e("714f"),x=e("eebe"),Q=e.n(x),D=Object(f["a"])(j,r,d,!1,null,"cfbdf804",null);i["default"]=D.exports;Q()(D,"components",{QPage:u["a"],QCard:m["a"],QCardSection:E["a"],QSkeleton:p["a"],QBtn:S["a"],QMenu:F["a"],QList:b["a"],QItem:g["a"],QItemSection:v["a"],QAvatar:q["a"],QImg:H["a"],QTable:C["a"],QSpace:w["a"],QSelect:k["a"]}),Q()(D,"directives",{Ripple:L["a"]})}}]);